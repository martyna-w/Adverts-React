[{"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/index.js":"1","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/App.js":"2","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Login.js":"3","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Advert.js":"4","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Navbar.js":"5","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/serviceWorker.js":"6","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/AdvertsList.js":"7","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Register.js":"8","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/api/service.js":"9","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/api/common.js":"10"},{"size":759,"mtime":1610711619460,"results":"11","hashOfConfig":"12"},{"size":755,"mtime":1610713005908,"results":"13","hashOfConfig":"12"},{"size":2846,"mtime":1610710816605,"results":"14","hashOfConfig":"12"},{"size":1234,"mtime":1610557728870,"results":"15","hashOfConfig":"12"},{"size":3531,"mtime":1610714855395,"results":"16","hashOfConfig":"12"},{"size":5729,"mtime":1610568120421,"results":"17","hashOfConfig":"12"},{"size":451,"mtime":1610573379609,"results":"18","hashOfConfig":"12"},{"size":3482,"mtime":1610651302338,"results":"19","hashOfConfig":"12"},{"size":768,"mtime":1610563375679,"results":"20","hashOfConfig":"12"},{"size":153,"mtime":1610562688450,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1dnb1ap",{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"42","usedDeprecatedRules":"29"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"29"},"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/index.js",["45"],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/App.js",["46"],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Login.js",["47"],"import React from \"react\"\nimport \"../css/sign.css\"\nimport CallApi from \"../api/service\"\nimport { withAlert } from \"react-alert\"\nimport { withRouter } from \"react-router\";\nimport Navbar from \"./Navbar\"\n\nclass Login extends React.Component{\n    constructor(props){\n        super(props)\n        this.onLoginChanged = this.onLoginChanged.bind(this)\n        this.onPasswordChanged = this.onPasswordChanged.bind(this)\n\n        this.state = {\n            login: \"\",\n            password: \"\"\n        }\n    }\n\n    onLoginChanged(e) {\n        this.setState({\n            login: e.target.value\n        })\n    }\n\n    onPasswordChanged(e){\n        this.setState({\n            password: e.target.value\n        })\n    }\n\n    redirectToAdverts(){\n        this.props.history.push(\"/\")\n    }\n    \n    triggerNavbar(){\n        window.updateNavbar()\n    }\n\n    login(e){\n        e.preventDefault()\n\n        var user = {\n            email: this.state.login,\n            password: this.state.password\n        }\n\n        CallApi.login(user)\n            .then(res => {\n                if (res.status === 200){\n                    sessionStorage.setItem(\"userEmail\", user.email)\n                    sessionStorage.setItem(\"userId\", res.data.userId)\n                    sessionStorage.setItem(\"userToken\", res.data.token)\n                    this.props.alert.show(\"Succesfully logged\")\n                    this.triggerNavbar()\n                    this.redirectToAdverts()\n                } else {\n                    this.props.alert.show(\"Could not login, check credentials\")\n                }                \n            })\n            .catch(err =>{\n                console.log(err)\n                this.props.alert.show(\"Error connecting to remote service\")\n            })\n    }\n\n    render(){\n        return (\n            <div className=\"text-center form-signin kek\">\n                <form className=\"form-signin\">\n                    <h1 className=\"h3 mb-3 fw-normal\">Please sign in</h1>\n                    <label htmlFor=\"inputEmail\" className=\"visually-hidden\">Email address</label>\n                    <input type=\"email\" id=\"inputEmail\" className=\"form-control\" placeholder=\"Email address\" value={this.state.login} onChange={this.onLoginChanged}  required={true} autoFocus=\"\"/>\n                    <label htmlFor=\"inputPassword\" className=\"visually-hidden\">Password</label>\n                    <input type=\"password\" id=\"inputPassword\" className=\"form-control\" placeholder=\"Password\" value={this.state.password} onChange={this.onPasswordChanged}  required={true}/>\n                    <button className=\"w-100 btn btn-lg btn-dark\" onClick={(e) => {this.login(e)}}>Sign in</button>\n                    <p className=\"mt-5 mb-3 text-muted\">Adverts 2021</p>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default withAlert()(withRouter(Login))",["48","49"],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Advert.js",[],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Navbar.js",["50"],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/serviceWorker.js",[],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/AdvertsList.js",[],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/components/Register.js",[],"/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/api/service.js",["51"],"import common from \"./common\"\n\nclass Service {\n    getAllAdverts(){\n        return common.get(\"/adverts/\")\n    }\n\n    getAdvertById(id) {\n        return common.get(`/adverts/${id}`)\n    }\n\n    getUserAdverts(id) {\n        return common.get(`/adverts/user/${id}`)\n    }\n\n    postAdvert(data) {\n        return common.post(\"/adverts/\", data)\n    }\n\n    deleteAdvert(id){\n        return common.delete(`/adverts/${id}`)\n    }\n\n    patchAdvert(id,data){\n        return common.patch(`/adverts/${id}`, data)\n    }\n\n    register(user){\n        return common.post(\"/users/register/\", user) \n    }\n\n    login(user) {\n        return common.post(\"/users/login/\", user)\n    }\n\n    accountDelete(id) {\n        return common.delete(`/users/${id}`)\n    }\n\n}\n\nexport default new Service","/home/timax/Documents/GitHub/Adverts-React/adverts-react/src/api/common.js",[],{"ruleId":"52","severity":1,"message":"53","line":21,"column":7,"nodeType":"54","messageId":"55","endLine":21,"endColumn":16},{"ruleId":"52","severity":1,"message":"56","line":13,"column":11,"nodeType":"54","messageId":"55","endLine":13,"endColumn":16},{"ruleId":"52","severity":1,"message":"57","line":6,"column":8,"nodeType":"54","messageId":"55","endLine":6,"endColumn":14},{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"52","severity":1,"message":"62","line":1,"column":26,"nodeType":"54","messageId":"55","endLine":1,"endColumn":35},{"ruleId":"63","severity":1,"message":"64","line":42,"column":16,"nodeType":"65","messageId":"66","endLine":42,"endColumn":27,"fix":"67"},"no-unused-vars","'TopParent' is assigned a value but never used.","Identifier","unusedVar","'state' is assigned a value but never used.","'Navbar' is defined but never used.","no-native-reassign",["68"],"no-negated-in-lhs",["69"],"'useEffect' is defined but never used.","new-parens","Missing '()' invoking a constructor.","NewExpression","missing",{"range":"70","text":"71"},"no-global-assign","no-unsafe-negation",[768,768],"()"]